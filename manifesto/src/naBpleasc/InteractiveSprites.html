<!doctype html>
<meta charset = "UTF-8">
<title>Interactive Sprite</title>
<div>
    <button id="bigger">nios mó</button>
    <button id="smaller">nios lú</button>
</div>
<canvas id="canvás" width="862" height="544" style="border: 2px solid black"></canvas>
<script src="requestAnimationFramePolyfill.js"></script>
<script>


var spriteObject =
{
    sourceX: 0,
    sourceY: 0,
    sourceWidth: 64,
    sourceHeight:64,
    x: 0,
    y:0,
    width: 64,
    height:64,

    visible: true

};

var canvas = document.querySelector("canvas");
var drawingSurface = canvas.getContext("2d");
var sprites = [];
var player = Object.create(spriteObject);
player.x = 243;
player.y = 168;
sprites.push(player);

var image = new Image();
image.addEventListener("load",loadHandler, false);
image.src = "../player.png";


//event listeners

var bigger = document.querySelector("#bigger");
bigger.addEventListener("mousedown",biggerHandler, false);

var smaller = document.querySelector("#smaller");
smaller.addEventListener("mousedown",smallerHandler, false);

function loadHandler()
{//run the update animation loop when the image has loaded
    update();
}

function update()
{
    requestAnimationFrame(update,canvas);
    render();
}

//button event handlers
function biggerHandler(event)
{
    player.height += 10;
    player.width += 10;
    player.x -=5;
    player.y -=5;

}

function smallerHandler(event)
{
    player.height -= 10;
    player.width -= 10;
    player.x += 5;
    player.y += 5;
}


function render(event)
{

    drawingSurface.clearRect(0,0,canvas.width,canvas.height);

    if(sprites.length !==0)
    {
        for (var i = 0; i<sprites.length; i++)
        {
            var sprite = sprites[i];
            if(sprite.visible){
                drawingSurface.drawImage(
                        image,sprite.sourceX,sprite.sourceY,sprite.sourceWidth,sprite.sourceHeight,
                        Math.floor(sprite.x),Math.floor(sprite.y),
                        sprite.width,sprite.height);

            }
        }
    }



}





</script>
